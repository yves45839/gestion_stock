{% extends "inventory/base.html" %}
{% block title %}Nouveau produit{% endblock %}
{% block content %}
<div class="card" style="margin-bottom:1.5rem;">
    <div style="display:flex;justify-content:space-between;align-items:center;gap:1rem;">
        <div>
            <h1 style="margin:0;font-size:1.5rem;">Cr√©er un produit</h1>
            <p style="margin:0.25rem 0 0;color:var(--muted);">Renseignez les informations principales puis enregistrez.</p>
        </div>
        <a href="{{ return_url|default:request.path }}" class="btn secondary">Retour</a>
    </div>
</div>

<form method="post" enctype="multipart/form-data" class="card product-form" style="display:grid;gap:1rem;padding:1rem;max-width:900px;">
    {% csrf_token %}
    {% if form.non_field_errors %}
        <div class="message error">{{ form.non_field_errors }}</div>
    {% endif %}
    <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:1rem;">
        {% for field in form %}
            <div>
                <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                {{ field }}
                {% if field.help_text %}<small style="color:var(--muted);">{{ field.help_text }}</small>{% endif %}
                {% for error in field.errors %}
                    <div class="field-error">{{ error }}</div>
                {% endfor %}
            </div>
        {% endfor %}
    </div>
    <div style="display:flex;justify-content:flex-end;gap:0.5rem;">
        <a href="{{ return_url|default:request.path }}" class="btn secondary">Annuler</a>
        <button type="submit" class="btn">Enregistrer</button>
    </div>
</form>

<style>
.product-form {
    background: linear-gradient(145deg, rgba(15, 28, 50, 0.95), rgba(12, 23, 39, 0.98));
    border: 1px solid var(--border-strong);
}
.product-form label {
    color: #f9fbff;
    font-weight: 700;
}
.product-form .field-error {
    color: #ff9b9b;
    font-size:0.85rem;
}
.product-form input, .product-form select, .product-form textarea {
    width:100%;
    background: var(--field-bg);
    color: var(--text);
    border:1px solid var(--border-strong);
    border-radius:10px;
    padding:0.55rem 0.65rem;
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.05), 0 12px 28px rgba(0,0,0,0.35);
}
.product-form input::placeholder, .product-form textarea::placeholder {
    color: var(--field-placeholder);
    opacity: 0.95;
}
.product-form input:focus, .product-form select:focus, .product-form textarea:focus {
    outline:2px solid var(--accent-strong);
    outline-offset:1px;
    border-color: var(--accent-strong);
    background: rgba(77, 240, 255, 0.06);
}
</style>
{% endblock %}
